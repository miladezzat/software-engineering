---
card: "https://cdn-media-1.freecodecamp.org/images/1*wQLUVCBOZVZo-PxJLLdrzQ.gif"
tags: [JavaScript]
description: In this article, we will create a Blazor application using Mo
author: "Milad E. Fahmy"
title: "How to perform CRUD operations using Blazor with MongoDB"
created: "2021-08-15T19:41:32+02:00"
modified: "2021-08-15T19:41:32+02:00"
---
<div class="site-wrapper">
<main id="site-main" class="site-main outer">
<div class="inner">
<article class="post-full post tag-javascript tag-mongodb tag-tech tag-programming tag-productivity ">
<header class="post-full-header">
<h1 class="post-full-title">How to perform CRUD operations using Blazor with MongoDB</h1>
</header>
<figure class="post-full-image">
<picture>
<source media="(max-width: 700px)" sizes="1px" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 1w">
<source media="(min-width: 701px)" sizes="(max-width: 800px) 400px,
(max-width: 1170px) 700px,
1400px" srcset="https://cdn-media-1.freecodecamp.org/images/1*wQLUVCBOZVZo-PxJLLdrzQ.gif 300w,
https://cdn-media-1.freecodecamp.org/images/1*wQLUVCBOZVZo-PxJLLdrzQ.gif 600w,
https://cdn-media-1.freecodecamp.org/images/1*wQLUVCBOZVZo-PxJLLdrzQ.gif 1000w,
https://cdn-media-1.freecodecamp.org/images/1*wQLUVCBOZVZo-PxJLLdrzQ.gif 2000w">
<img onerror="this.style.display='none'" src="https://cdn-media-1.freecodecamp.org/images/1*wQLUVCBOZVZo-PxJLLdrzQ.gif" alt="How to perform CRUD operations using Blazor with MongoDB">
</picture>
</figure>
<section class="post-full-content">
<div class="post-content">
<h3 id="introduction">Introduction</h3>
<p>In this article, we will create a Blazor application using MongoDB as our database provider. We will create a Single Page Application (SPA) and perform CRUD operations on it. A modal popup will display the form to handle the user inputs. The form also has a dropdown list, which will bind to a DB collection.</p>
<p>We will use Visual Studio 2017 and MongoDB 4.0.</p>
<p>Take a look at the final application.</p>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li>Install the .NET Core 2.1 or above SDK from <a href="https://www.microsoft.com/net/learn/get-started-with-dotnet-tutorial#windowscmd" rel="noopener">here</a></li>
<li>Install Visual Studio 2017 v15.7 or above from <a href="https://www.visualstudio.com/downloads/" rel="noopener">here</a></li>
<li>Install ASP.NET Core Blazor Language Services extension from <a href="https://marketplace.visualstudio.com/items?itemName=aspnet.blazor" rel="noopener">here</a></li>
<li>Download and install MongoDB community edition. You can find the installation guide <a href="https://docs.mongodb.com/manual/administration/install-community/" rel="noopener">here</a>.</li>
</ul>
<p>Visual Studio 2017 versions below v15.7 do not support Blazor framework.</p>
<h3 id="source-code">Source Code</h3>
<p>Get the source code from <a href="https://github.com/AnkitSharma-007/Blazor-CRUD-With-MongoDB" rel="noopener">GitHub</a>.</p>
<h3 id="configuring-mongodb">Configuring MongoDB</h3>
<p>After installing the MongoDB, we need to add the path of MongoDB binaries to the System PATH variable. The default installation path in a Windows machine is <code>C:\Program Files\MongoDB</code>. Hence you need to include <code>C:\Program Files\MongoDB\Server\4.0\bin</code> in the System PATH variable. If you are not using Windows then you can find the process of configuring the MongoDB binaries at the installation guide link provided in the prerequisites section above.</p>
<h3 id="working-with-mongodb">Working With MongoDB</h3>
<p>We need to set up the path where the data will be stored in our machine. Open the command prompt as administrator and run the following command to set the data storage path in your machine.</p><pre><code>mongod --dbpath C:\MongoData</code></pre>
<p>You can provide the path of any folder where you want to store the data. This command will connect to MongoDB on port 27017 (the default port for MongoDB connection). Refer to the image below:</p>
<p><strong>Important Note:</strong></p>
<blockquote><em>It is advisable to use the command prompt over PowerShell while executing MongoDB commands as all MongoDB commands do not work in PowerShell.</em></blockquote>
<p>Open a new command prompt window and execute the command <code>mongo</code> to start the mongo server. Refer to the image below.</p>
<p>Run the following command to create the database:</p><pre><code>use EmployeeDB</code></pre>
<p>This will create our database <code>EmployeeDB</code>. Execute the following command to create a new collection inside the database:</p><pre><code>db.createCollection('EmployeeRecord')</code></pre>
<p>This will create a collection <code>EmployeeRecord</code> in our database. MongoDB stores data in JSON-like documents. Let us insert a sample document in our <code>EmployeeRecord</code> collection. Run the following command.</p><pre><code>db.EmployeeRecord.insert({'Name':'Ankit','Gender':'Male','Department':'HR','City':'Mumbai'})</code></pre>
<p>You can observe that we have provided the data in a JSON format as a key-value pair. Run the following command to list all the documents from the EmployeeRecord collection.</p><pre><code>db.EmployeeRecord.find({})</code></pre>
<p>The database schema will add _id property to each document in the collection. This property is of type ObjectId and it will be generated automatically. We will use this _id property to uniquely identify a document in the collection. Refer to the image below:</p>
<p>If you want to remove all the documents from the EmployeeRecord collection then you need to run the following command:</p><pre><code>db.EmployeeRecord.remove({})</code></pre>
<p>We will create another collection to store a list of city names which is used to populate the City field of <code>EmployeeRecord</code> collection. We will also bind this collection to a dropdown list in our web application from which the user will select the desired city.</p>
<p>Run the following command to create the <code>Cities</code> collection.</p><pre><code>db.createCollection('Cities')</code></pre>
<p>We will insert five sample city names in this collection. To insert the documents in bulk in the <code>Cities</code> collection, run the following command:</p><pre><code>db.Cities.insertMany([   { CityName : "New Delhi" },   { CityName : "Mumbai"},   { CityName : "Hyderabad"},   { CityName : "Chennai"},   { CityName : "Bengaluru" }])</code></pre>
<p>Refer to the image below:</p>
<h3 id="create-a-blazor-web-application">Create a Blazor Web Application</h3>
<p>Open Visual Studio and select File &gt;&gt; New &gt;&gt; Project.</p>
<p>After selecting the project, a “New Project” dialog will open. Select .NET Core inside Visual C# menu from the left panel. Then, select “ASP.NET Core Web Application” from available project types. Put the name of the project as <code>BlazorWithMongo</code> and press OK.</p>
<p>After clicking on OK, a new dialog will open asking you to select the project template. You can observe two drop-down menus at the top left of the template window. Select “.NET Core” and “ASP.NET Core 2.0” from these dropdowns. Then, select “Blazor (ASP .NET Core hosted)” template and press OK.</p>
<p>Now, our Blazor solution will be created. You can observe that we have three project files created in this solution</p>
<ol>
<li>BlazorWithMongo.Client — It has the client side code and contains the pages that will be rendered on the browser.</li>
<li>BlazorWithMongo.Server — It has the server side codes such as data access layer and web API.</li>
<li>BlazorWithMongo.Shared — It contains the shared code that can be accessed by both client and server. It contains our Model class and DB context class.</li>
</ol>
<h3 id="installing-mongodb-driver">Installing MongoDB driver</h3>
<p>To access the MongoDB from our application we need to install the MongoDB driver using package manager console. We will install it in BlazorWithMongo.Shared project so that it can be accessible to Server project also.</p>
<p>Navigate to Tools &gt;&gt; NuGet Package Manager &gt;&gt; Package Manager Cons<code>ole. Select BlazorWith</code>Mongo.Shared from Default project drop-down and run the following command:</p><pre><code>Install-Package MongoDB.Driver</code></pre>
<p>Refer to the image below:</p>
<h3 id="creating-the-model">Creating the Model</h3>
<p>We will create our model class in <code>BlazorWithMongo.Shared</code> project. Right click on <code>BlazorWithMongo.Shared</code> and select Add &gt;&gt; New Folder. Name the folder as Models. Again, right click on the Models folder and select Add &gt;&gt; Class to add a new class file. Put the name of your class as Employee.cs and click Add.</p>
<p>Open the Employee.cs class and put the following code into it.</p><pre><code>using System;using System.Collections.Generic;using System.Text;using MongoDB.Bson;using MongoDB.Bson.Serialization.Attributes;namespace BlazorWithMongo.Shared.Models{    public class Employee    {        [BsonId]        [BsonRepresentation(BsonType.ObjectId)]        public string Id { get; set; }        public string Name { get; set; }        public string City { get; set; }        public string Department { get; set; }        public string Gender { get; set; }    }}</code></pre>
<p>We have included the Id<strong> </strong>property of the type ObjectId in our class definition and decorated it with <code>[BsonId]</code> attribute. This property is required to map the model objects to the MongoDB collection.</p>
<p>Similarly, create another class file <code>Cities.cs</code> and put the following code into it.</p><pre><code>using System;using System.Collections.Generic;using System.Text;using MongoDB.Bson;using MongoDB.Bson.Serialization.Attributes;namespace BlazorWithMongo.Shared.Models{    public class Cities    {        [BsonId]        [BsonRepresentation(BsonType.ObjectId)]        public string Id { get; set; }        public string CityName { get; set; }    }}</code></pre>
<h3 id="creating-the-db-context-class">Creating the DB context class</h3>
<p>Add a new class file to the Models folder and name it <code>EmployeeDBContext.cs</code>. Put the following code into it:</p><pre><code>using MongoDB.Driver;using System;using System.Collections.Generic;using System.Text;namespace BlazorWithMongo.Shared.Models{    public class EmployeeDBContext    {        private readonly IMongoDatabase _mongoDatabase;        public EmployeeDBContext()        {            var client = new MongoClient("mongodb://localhost:27017");            _mongoDatabase = client.GetDatabase("EmployeeDB");        }        public IMongoCollection&lt;Employee&gt; EmployeeRecord        {            get            {                return _mongoDatabase.GetCollection&lt;Employee&gt;("EmployeeRecord");            }        }        public IMongoCollection&lt;Cities&gt; CityRecord        {            get            {                return _mongoDatabase.GetCollection&lt;Cities&gt;("Cities");            }        }    }}</code></pre>
<p>Here we have defined a <code>MongoClient</code> which will connect to the MongoDB server instance using the default connection string for MongoDB. We are using the GetDatabase method to fetch the database instance. The method <code>EmployeeRecord</code> is used to fetch the <code>EmployeeRecord</code> collection from our database and map it to the Employee model class. Similarly, the method <code>CityRecord</code> will fetch the Cities collection from the database and map it to the Cities model class.</p>
<h3 id="creating-data-access-layer-for-the-application">Creating Data Access Layer for the Application</h3>
<p>Right-click on <code>BlazorWithMongo.Server</code> project and then select Add &gt;&gt; New Folder and name the fold<em>er as Data</em>Access. We will be adding our class to handle database related operations inside this folder only.</p>
<p>Right click on <em>DataAccess</em> folder and select Add &gt;&gt; Class. Name your <code>class EmployeeDataAccessLa</code><em>ye</em>r.cs.<code> Open EmployeeDataAccessLa</code>yer.cs and put the following code into it:</p><pre><code>using BlazorWithMongo.Shared.Models;using MongoDB.Driver;using System;using System.Collections.Generic;using System.Linq;using System.Threading.Tasks;namespace BlazorWithMongo.Server.DataAccess{    public class EmployeeDataAccessLayer    {        EmployeeDBContext db = new EmployeeDBContext();        //To Get all employees details               public List&lt;Employee&gt; GetAllEmployees()        {            try            {                return db.EmployeeRecord.Find(_ =&gt; true).ToList();            }            catch            {                throw;            }        }        //To Add new employee record               public void AddEmployee(Employee employee)        {            try            {                db.EmployeeRecord.InsertOne(employee);            }            catch            {                throw;            }        }        //Get the details of a particular employee              public Employee GetEmployeeData(string id)        {            try            {                FilterDefinition&lt;Employee&gt; filterEmployeeData = Builders&lt;Employee&gt;.Filter.Eq("Id", id);                return db.EmployeeRecord.Find(filterEmployeeData).FirstOrDefault();            }            catch            {                throw;            }        }        //To Update the records of a particular employee              public void UpdateEmployee(Employee employee)        {            try            {                db.EmployeeRecord.ReplaceOne(filter: g =&gt; g.Id == employee.Id, replacement: employee);            }            catch            {                throw;            }        }        //To Delete the record of a particular employee              public void DeleteEmployee(string id)        {            try            {                FilterDefinition&lt;Employee&gt; employeeData = Builders&lt;Employee&gt;.Filter.Eq("Id", id);                db.EmployeeRecord.DeleteOne(employeeData);            }            catch            {                throw;            }        }        // To get the list of Cities          public List&lt;Cities&gt; GetCityData()        {            try            {                return db.CityRecord.Find(_ =&gt; true).ToList();            }            catch            {                throw;            }        }    }}</code></pre>
<p>Here we have defined the methods to perform CRUD operations on the EmployeeDB database.</p>
<h3 id="adding-the-web-api-controller-to-the-application">Adding the web API Controller to the Application</h3>
<p>Right-click on <code>BlazorWithMongo.Server/Controllers</code> folder and select Add &gt;&gt; New Item. An “Add New Item” dialog box will open. S<em>ele</em>ct Web from the left panel, then select “API Controller Class” from the templates panel and put the na<code>me as EmployeeControl</code>ler.cs. Click Add.</p>
<p>This will create our API <em>EmployeeController </em>class. We will call the methods of <em>EmployeeDataAccessLayer </em>class to fetch data and pass on the data to the client side</p>
<p>Open <code>EmployeeController.cs</code> file and put the following code into it:</p><pre><code>using System;using System.Collections.Generic;using System.Linq;using System.Threading.Tasks;using BlazorWithMongo.Server.DataAccess;using BlazorWithMongo.Shared.Models;using Microsoft.AspNetCore.Mvc;namespace BlazorWithMongo.Server.Controllers{    public class EmployeeController : Controller    {        EmployeeDataAccessLayer objemployee = new EmployeeDataAccessLayer();        [HttpGet]        [Route("api/Employee/Index")]        public IEnumerable&lt;Employee&gt; Index()        {            return objemployee.GetAllEmployees();        }        [HttpPost]        [Route("api/Employee/Create")]        public void Create([FromBody] Employee employee)        {            objemployee.AddEmployee(employee);        }        [HttpGet]        [Route("api/Employee/Details/{id}")]        public Employee Details(string id)        {            return objemployee.GetEmployeeData(id);        }        [HttpPut]        [Route("api/Employee/Edit")]        public void Edit([FromBody]Employee employee)        {            objemployee.UpdateEmployee(employee);        }        [HttpDelete]        [Route("api/Employee/Delete/{id}")]        public void Delete(string id)        {            objemployee.DeleteEmployee(id);        }        [HttpGet]        [Route("api/Employee/GetCities")]        public List&lt;Cities&gt; GetCities()        {            return objemployee.GetCityData();        }    }}</code></pre>
<p>We have now finished the coding for our backend logic. Therefore, we will now proceed to code our client side.</p>
<h3 id="creating-the-view-component">Creating the View Component</h3>
<p>We will add the view page in <code>BlazorWithMongo.Client/Pages</code> folder. By default, we have “Counter” and “Fetch Data” pages provided in our application. These default pages will not affect our application. For the sake of this tutorial, we will delete <em>fetchdata </em>and <em>counter</em> pages from this folder.</p>
<p>Right-click on <code>BlazorWithMongo.Client/Pages</code> folder and then select Add &gt;&gt; New Item. An “Add New Item” dialog box will open. Select “ASP.NET Core” from the left panel. Then select “Razor Page” from templates panel and na<code>me it EmployeeData.</code>cshtml. Click Add. Refer to the image below:</p>
<p>This will add an <code>EmployeeData.cshtml</code> page to our <code>BlazorSPA.Client/Pages</code> folder. This razor page will have two files – <em>EmployeeData.cshtml </em>and<em> EmployeeData.cshtml.cs.</em></p>
<p>Now, we will add code to these pages.</p>
<h3 id="employeedata-cshtml">EmployeeData.cshtml</h3>
<p>Open <code>EmployeeData.cshtml</code> page and put the following code into it:</p><pre><code>@page "/fetchemployee"@inherits EmployeeDataModel&lt;h1&gt;Employee Data&lt;/h1&gt;&lt;h3&gt;CRUD operation with Blazor using MongoDB&lt;/h3&gt;&lt;br /&gt;&lt;div&gt;    &lt;div style="float:left"&gt;        &lt;button class="btn btn-primary" onclick="@AddEmp"&gt;Add Employee&lt;/button&gt;    &lt;/div&gt;&lt;/div&gt;&lt;br /&gt;@if (empList == null){    &lt;p&gt;&lt;em&gt;Loading...&lt;/em&gt;&lt;/p&gt;}else{    &lt;table class='table'&gt;        &lt;thead&gt;            &lt;tr&gt;                &lt;th&gt;Name&lt;/th&gt;                &lt;th&gt;Gender&lt;/th&gt;                &lt;th&gt;Department&lt;/th&gt;                &lt;th&gt;City&lt;/th&gt;            &lt;/tr&gt;        &lt;/thead&gt;        &lt;tbody&gt;            @foreach (var emp in empList)            {                &lt;tr&gt;                    &lt;td&gt;@emp.Name&lt;/td&gt;                    &lt;td&gt;@emp.Gender&lt;/td&gt;                    &lt;td&gt;@emp.Department&lt;/td&gt;                    &lt;td&gt;@emp.City&lt;/td&gt;                    &lt;td&gt;                        &lt;button class="btn btn-info" onclick="@(async () =&gt; await EditEmployee(@emp.Id))"&gt;Edit&lt;/button&gt;                        &lt;button class="btn btn-danger" onclick="@(async () =&gt; await DeleteConfirm(@emp.Id))"&gt;Delete&lt;/button&gt;                    &lt;/td&gt;                &lt;/tr&gt;            }        &lt;/tbody&gt;    &lt;/table&gt;    if (isAdd)    {        &lt;div class="modal" tabindex="-1" style="display:block" role="dialog"&gt;            &lt;div class="modal-dialog"&gt;                &lt;div class="modal-content"&gt;                    &lt;div class="modal-header"&gt;                        &lt;h3 class="modal-title"&gt;@modalTitle&lt;/h3&gt;                        &lt;button type="button" class="close" onclick="@closeModal"&gt;                            &lt;span aria-hidden="true"&gt;X&lt;/span&gt;                        &lt;/button&gt;                    &lt;/div&gt;                    &lt;div class="modal-body"&gt;                        &lt;form&gt;                            &lt;div class="form-group"&gt;                                &lt;label for="Name" class="control-label"&gt;Name&lt;/label&gt;                                &lt;input for="Name" class="form-control" bind="@emp.Name" /&gt;                            &lt;/div&gt;                            &lt;div class="form-group"&gt;                                &lt;label asp-for="Gender" class="control-label"&gt;Gender&lt;/label&gt;                                &lt;select asp-for="Gender" class="form-control" bind="@emp.Gender"&gt;                                    &lt;option value=""&gt;-- Select Gender --&lt;/option&gt;                                    &lt;option value="Male"&gt;Male&lt;/option&gt;                                    &lt;option value="Female"&gt;Female&lt;/option&gt;                                &lt;/select&gt;                            &lt;/div&gt;                            &lt;div class="form-group"&gt;                                &lt;label asp-for="Department" class="control-label"&gt;Department&lt;/label&gt;                                &lt;input asp-for="Department" class="form-control" bind="@emp.Department" /&gt;                            &lt;/div&gt;                            &lt;div class="form-group"&gt;                                &lt;label asp-for="City" class="control-label"&gt;City&lt;/label&gt;                                &lt;select asp-for="City" class="form-control" bind="@emp.City"&gt;                                    &lt;option value=""&gt;-- Select City --&lt;/option&gt;                                    @foreach (var city in cityList)                                    {                                        &lt;option value="@city.CityName"&gt;@city.CityName&lt;/option&gt;                                    }                                &lt;/select&gt;                            &lt;/div&gt;                        &lt;/form&gt;                    &lt;/div&gt;                    &lt;div class="modal-footer"&gt;                        &lt;button class="btn btn-block btn-success" onclick="@(async () =&gt; await SaveEmployee())" data-dismiss="modal"&gt;Save&lt;/button&gt;                    &lt;/div&gt;                &lt;/div&gt;            &lt;/div&gt;        &lt;/div&gt;    }    if (isDelete)    {        &lt;div class="modal" tabindex="-1" style="display:block" role="dialog"&gt;            &lt;div class="modal-dialog"&gt;                &lt;div class="modal-content"&gt;                    &lt;div class="modal-header"&gt;                        &lt;h3 class="modal-title"&gt;Delete Employee&lt;/h3&gt;                    &lt;/div&gt;                    &lt;div class="modal-body"&gt;                        &lt;h4&gt;Do you want to delete this employee ??&lt;/h4&gt;                        &lt;table class="table"&gt;                            &lt;tr&gt;                                &lt;td&gt;Name&lt;/td&gt;                                &lt;td&gt;@emp.Name&lt;/td&gt;                            &lt;/tr&gt;                            &lt;tr&gt;                                &lt;td&gt;Gender&lt;/td&gt;                                &lt;td&gt;@emp.Gender&lt;/td&gt;                            &lt;/tr&gt;                            &lt;tr&gt;                                &lt;td&gt;Department&lt;/td&gt;                                &lt;td&gt;@emp.Department&lt;/td&gt;                            &lt;/tr&gt;                            &lt;tr&gt;                                &lt;td&gt;City&lt;/td&gt;                                &lt;td&gt;@emp.City&lt;/td&gt;                            &lt;/tr&gt;                        &lt;/table&gt;                    &lt;/div&gt;                    &lt;div class="modal-footer"&gt;                        &lt;button class="btn btn-danger" onclick="@(async () =&gt; await DeleteEmployee(emp.Id))" data-dismiss="modal"&gt;YES&lt;/button&gt;                        &lt;button class="btn btn-warning" onclick="@closeModal"&gt;NO&lt;/button&gt;                    &lt;/div&gt;                &lt;/div&gt;            &lt;/div&gt;        &lt;/div&gt;    }}</code></pre>
<p>Let us understand this code. At the top we have defined the route of this page as “/fetchemployee”. This means if we append “/fetchemployee” to the root URL of the app, we will be redirected to this page.</p>
<p>We are also inheriting <code>EmployeeDataModel</code> class, which is defined in <code>EmployeeData.cshtml.cs</code> file. This will allow us to use the methods defined in <code>EmployeeDataModel</code> class.</p>
<p>After this, we have defined a button to add a new employee record. When clicked, this button will open a modal popup to handle the user inputs.</p>
<p>The list of employee documents returned from the database is stored in the <em>empList</em> variable. If the variable is not null then we will bind the values to a table to display the employee documents in a tabular fashion. Each row in the table has two action links. <em>Edit</em> to edit the employee document. <em>Delete</em> to delete the employee document.</p>
<p>To handle the user inputs we are using a form. We are using a single form for both Add Employee and Edit Employee functionality. The form is defined in a modal popup and the modal popup is displayed on the screen based on the value of a Boolean property isAdd. The value of this Boolean property is set in the code behind (.cshtml.cs) page.</p>
<p>The City dropdown list inside the form is binding to our Cities collection in the database with the help of <em>cityList</em> variable. The cityList will be populated as the application boots up.</p>
<p>The form will have a <em>Save</em> button which will invoke <code>SaveEmployee</code> method. This method is defined in the code behind file to Add or Update an employee document.</p>
<p>Similar to the <em>Add</em> modal popup, we also have a <em>Delete</em> modal popup. It will be a read-only modal and will ask for a confirmation to delete an employee document. Upon clicking “Yes”, it will invoke the <code>DeleteEmployee</code> method to delete the employee document.</p>
<h3 id="employeedata-cshtml-cs">EmployeeData.cshtml.cs</h3>
<p>Open <code>EmployeeData.cshtml.cs</code> and put the following code into it:</p><pre><code>using System;using System.Collections.Generic;using System.Linq;using System.Threading.Tasks;using System.Net.Http;using Microsoft.AspNetCore.Blazor;using Microsoft.AspNetCore.Blazor.Components;using BlazorWithMongo.Shared.Models;namespace BlazorWithMongo.Client.Pages{    public class EmployeeDataModel : BlazorComponent    {        [Inject]        protected HttpClient Http { get; set; }        protected List&lt;Employee&gt; empList;        protected List&lt;Cities&gt; cityList = new List&lt;Cities&gt;();        protected Employee emp = new Employee();        protected string modalTitle { get; set; }        protected Boolean isDelete = false;        protected Boolean isAdd = false;        protected string SearchString { get; set; }        protected override async Task OnInitAsync()        {            await GetEmployee();            await GetCities();        }        protected async Task GetEmployee()        {            empList = await Http.GetJsonAsync&lt;List&lt;Employee&gt;&gt;("api/Employee/Index");        }        protected async Task GetCities()        {            cityList = await Http.GetJsonAsync&lt;List&lt;Cities&gt;&gt;("api/Employee/GetCities");        }        protected void AddEmp()        {            emp = new Employee();            this.modalTitle = "Add Employee";            this.isAdd = true;        }        protected async Task EditEmployee(string ID)        {            emp = await Http.GetJsonAsync&lt;Employee&gt;("/api/Employee/Details/" + ID);            this.modalTitle = "Edit Employee";            this.isAdd = true;        }        protected async Task SaveEmployee()        {            if (emp.Id != null)            {                await Http.SendJsonAsync(HttpMethod.Put, "api/Employee/Edit", emp);            }            else            {                await Http.SendJsonAsync(HttpMethod.Post, "/api/Employee/Create", emp);            }            this.isAdd = false;            await GetEmployee();        }        protected async Task DeleteConfirm(string ID)        {            emp = await Http.GetJsonAsync&lt;Employee&gt;("/api/Employee/Details/" + ID);            this.isDelete = true;        }        protected async Task DeleteEmployee(string ID)        {            await Http.DeleteAsync("api/Employee/Delete/" + ID);            this.isDelete = false;            await GetEmployee();        }        protected void closeModal()        {            this.isAdd = false;            this.isDelete = false;        }    }}</code></pre>
<p>In this file, we have defined a class <code>EmployeeDataModel</code> that will hold all the methods that we will be using in <code>EmployeeData.cshtml</code> page. We are also injecting the <code>HttpClient</code> service to enable web API calls.</p>
<p>The variables <em>empList</em> and <em>cityList</em> are defined to hold the data from the Employee table and Cities table respectively. The variables are getting populated inside the OnInitAsync to make sure that the data is available to us as the page loads.</p>
<p>Clicking on the “Add Employee” button will invoke the <code>AddEmp</code> method. It will initialize an empty instance of Employee model and set the value of <em>isAdd</em> Boolean flag to true. This will open a modal popup with a form, asking the user to enter the value for a new employee document. Similarly, we have defined an <code>EditEmployee</code> method, which will fetch the record of the employee based on the Id for which it is invoked. It will also set the value of <em>isAdd</em> to true to open the modal popup to edit the employee document.</p>
<p>The <code>SaveEmployee</code> method will check if it is invoked to add a new employee record or to edit an existing employee record. If the Id is not null, then it is an “edit” request and we will send a PUT request to the Web API to update the existing employee document.</p>
<p>If the Id is null, then it is a “create” request and we will send a POST request to the Web API to create a new employee document.</p>
<p>We will then fetch the updated list of employee documents by calling <code>GetEmployee</code> method. We also set the value of <em>isAdd</em> to false, thus closing the modal popup.</p>
<p>The <code>DeleteConfirm</code> method is invoked by clicking the Delete button corresponding to an employee record. It will set the value of isDelete Boolean flag to true, which will display a Delete confirmation modal popup. Upon clicking YES inside this popup, <code>DeleteEmployee</code> method is invoked. It sends a Delete Web API call to delete the employee document. It also sets the <em>isDelete</em> Boolean flag to false thus closing the modal popup.</p>
<h3 id="adding-link-to-navigation-menu">Adding Link to Navigation menu</h3>
<p>The last step is to add the link to our “EmployeeData” page in the navigation menu. Open the <code>BlazorWithMongo/Shared/NavMenu.cshtml</code> page and put the following code into it.</p><pre><code>&lt;div class="top-row pl-4 navbar navbar-dark"&gt;    &lt;a class="navbar-brand" href=""&gt;BlazorWithMongo&lt;/a&gt;    &lt;button class="navbar-toggler" onclick=@ToggleNavMenu&gt;        &lt;span class="navbar-toggler-icon"&gt;&lt;/span&gt;    &lt;/button&gt;&lt;/div&gt;&lt;div class=@(collapseNavMenu ? "collapse" : null) onclick=@ToggleNavMenu&gt;    &lt;ul class="nav flex-column"&gt;        &lt;li class="nav-item px-3"&gt;            &lt;NavLink class="nav-link" href="" Match=NavLinkMatch.All&gt;                &lt;span class="oi oi-home" aria-hidden="true"&gt;&lt;/span&gt; Home            &lt;/NavLink&gt;        &lt;/li&gt;        &lt;li class="nav-item px-3"&gt;            &lt;NavLink class="nav-link" href="fetchemployee"&gt;                &lt;span class="oi oi-list-rich" aria-hidden="true"&gt;&lt;/span&gt; Employee data            &lt;/NavLink&gt;        &lt;/li&gt;    &lt;/ul&gt;&lt;/div&gt;@functions {bool collapseNavMenu = true;void ToggleNavMenu(){    collapseNavMenu = !collapseNavMenu;}}</code></pre>
<p>Hence, we have successfully created a Single Page Application (SPA) using Blazor with the help of MongoDB as the database provider.</p>
<h3 id="execution-demo">Execution Demo</h3>
<p>Press F5 to launch the application.</p>
<p>A web page will open as shown in the image below. The navigation menu on the left is showing the navigation link for the Employee data page.</p>
<p>Click on “Employee data” link, it will redirect to EmployeeData view. Here you can see all the employee data in a tabular fashion. Notice the URL has “/fetchemployee” appended to it.</p>
<p>Click on the <em>Add Employee </em>button to open the “Add Employee” modal popup. Enter the data in all the fields and click on Save to create a new employee document.</p>
<p>This will create a new employee document and display the data in the View table. Click on Edit button corresponding to any row in the table, it will again open the modal popup for editing the employee record. Edit the input fields and click on save to update the employee document.</p>
<p>If you click on the Delete button corresponding to the employee record, it will open a delete confirmation popup asking for a confirmation to delete the employee record.</p>
<p>Clicking on YES will delete the employee data and show the updated list of employees by refreshing the view table.</p>
<h3 id="conclusion">Conclusion</h3>
<p>We have created a Single Page Application (SPA) using Blazor with the help of MongoDB as the database provider. We created a sample employee record management system and performed CRUD operations on it. To handle the user input, we used a form in a modal popup. We have used Visual Studio 2017 and MongoDB 4.0 for our demo.</p>
<p>Please get the source code from <a href="https://github.com/AnkitSharma-007/Blazor-CRUD-With-MongoDB" rel="noopener">GitHub</a> and play around to get a better understanding.</p>
<p>Get my book <a href="https://www.amazon.com/Blazor-Quick-Start-Guide-applications/dp/178934414X/ref=sr_1_1?ie=UTF8&amp;qid=1542438251&amp;sr=8-1&amp;keywords=Blazor-Quick-Start-Guide" rel="noopener">Blazor Quick Start Guide</a> to learn more about Blazor.</p>
<p>You can check out my other articles <a href="http://ankitsharmablogs.com/" rel="noopener">here</a>.</p>
<p>Preparing for interviews? Read my article on <a href="http://ankitsharmablogs.com/csharp-coding-questions-for-technical-interviews/" rel="noopener">C# Coding Questions For Technical Interviews</a>.</p>
<h3 id="see-also">See Also</h3>
<ul>
<li><a href="http://ankitsharmablogs.com/understanding-server-side-blazor/" rel="noopener">Understanding Server-Side Blazor</a></li>
<li><a href="http://ankitsharmablogs.com/single-page-application-using-server-side-blazor/" rel="noopener">Single Page Application Using Server-Side Blazor</a></li>
<li><a href="http://ankitsharmablogs.com/creating-a-spa-using-razor-pages-with-blazor/" rel="noopener">Creating a SPA Using Razor Pages With Blazor</a></li>
<li><a href="http://ankitsharmablogs.com/asp-net-core-crud-using-blazor-and-entity-framework-core/" rel="noopener">ASP.NET Core — CRUD Using Blazor And Entity Framework Core</a></li>
<li><a href="http://ankitsharmablogs.com/deploying-a-blazor-application-on-iis/" rel="noopener">Deploying a Blazor Application on IIS</a></li>
<li><a href="http://ankitsharmablogs.com/javascript-interop-in-blazor/" rel="noopener">JavaScript Interop in Blazor</a></li>
</ul>
<p>Originally published at <a href="https://ankitsharmablogs.com/" rel="noopener">https://ankitsharmablogs.com/</a></p>
</div>
<hr>
<hr>
</section>
</article>
</div>
</main>
</div>
<!-- Google Tag Manager (noscript) -->
<!-- End Google Tag Manager (noscript) -->
