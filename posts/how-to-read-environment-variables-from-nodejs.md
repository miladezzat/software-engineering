---
card: "/images/default.jpg"
tags: [Node]
author: "Milad E. Fahmy"
title: "How to read environment variables from Node.js"
created: "2021-08-20T13:40:27+02:00"
modified: "2021-08-20T13:40:27+02:00"
---
<div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="layout-container"><main class="grid-container"><article class="article-reader"><h1 class="article-reader__headline">How to read environment variables from Node.js</h1><div><p>The <code class="language-text">process</code> core module of Node.js provides the <code class="language-text">env</code> property which hosts all the environment variables that were set at the moment the process was started.</p><p>The below code runs <code class="language-text">app.js</code> and set <code class="language-text">USER_ID</code> and <code class="language-text">USER_KEY</code>.</p><pre class="prism-code language-bash"><div class="shell-box-top"><span>BASH</span><button type="button">copy</button></div><div class="token-line"><span class="token assign-left variable">USER_ID</span><span class="token operator">=</span><span class="token number">239482</span><span class="token plain"> </span><span class="token assign-left variable">USER_KEY</span><span class="token operator">=</span><span class="token plain">foobar node app.js</span></div><div class="token-line"><span class="token plain">
</span></div></pre><p>That will pass the user <code class="language-text">USER_ID</code> as <strong>239482</strong> and the <code class="language-text">USER_KEY</code> as <strong>foobar</strong>. This is suitable for testing, however for production, you will probably be configuring some bash scripts to export variables.</p><blockquote><p>Note: <code class="language-text">process</code> does not require a "require", it's automatically available.</p></blockquote><p>Here is an example that accesses the <code class="language-text">USER_ID</code> and <code class="language-text">USER_KEY</code> environment variables, which we set in above code.</p><pre class="prism-code language-js"><div class="shell-box-top"><span>JS</span><button type="button">copy</button></div><div class="token-line"><span class="token plain">process</span><span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">USER_ID</span><span class="token plain"> </span><span class="token comment">// "239482"</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">process</span><span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">USER_KEY</span><span class="token plain"> </span><span class="token comment">// "foobar"</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre><p>In the same way you can access any custom environment variable you set.</p><p>If you have multiple environment variables in your node project, you can also create an <code class="language-text">.env</code> file in the root directory of your project, and then use the <a href="https://www.npmjs.com/package/dotenv">dotenv</a> package to load them during runtime.</p><pre class="prism-code language-bash"><div class="shell-box-top"><span>BASH</span><button type="button">copy</button></div><div class="token-line"><span class="token comment"># .env file</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token assign-left variable">USER_ID</span><span class="token operator">=</span><span class="token string">"239482"</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token assign-left variable">USER_KEY</span><span class="token operator">=</span><span class="token string">"foobar"</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token assign-left variable">NODE_ENV</span><span class="token operator">=</span><span class="token string">"development"</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre><p>In your js file</p><pre class="prism-code language-js"><div class="shell-box-top"><span>JS</span><button type="button">copy</button></div><div class="token-line"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dotenv'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">process</span><span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">USER_ID</span><span class="token plain"> </span><span class="token comment">// "239482"</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">process</span><span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">USER_KEY</span><span class="token plain"> </span><span class="token comment">// "foobar"</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">process</span><span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">NODE_ENV</span><span class="token plain"> </span><span class="token comment">// "development"</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre><blockquote><p>You can also run your js file with <code class="language-text">node -r dotenv/config index.js</code> command if you don't want to import the package in your code.</p></blockquote></div></article></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div>
