---
card: "/images/default.jpg"
tags: [Node]
author: "Milad E. Fahmy"
title: "Node.js, accept arguments from the command line"
created: "2021-08-20T13:40:29+02:00"
modified: "2021-08-20T13:40:29+02:00"
---
<div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="layout-container"><main class="grid-container"><article class="article-reader"><h1 class="article-reader__headline">Node.js, accept arguments from the command line</h1><div><p>You can pass any number of arguments when invoking a Node.js application using</p><pre class="prism-code language-bash"><div class="shell-box-top"><span>BASH</span><button type="button">copy</button></div><div class="token-line"><span class="token plain">node app.js</span></div><div class="token-line"><span class="token plain">
</span></div></pre><p>Arguments can be standalone or have a key and a value.</p><p>For example:</p><pre class="prism-code language-bash"><div class="shell-box-top"><span>BASH</span><button type="button">copy</button></div><div class="token-line"><span class="token plain">node app.js joe</span></div><div class="token-line"><span class="token plain">
</span></div></pre><p>or</p><pre class="prism-code language-bash"><div class="shell-box-top"><span>BASH</span><button type="button">copy</button></div><div class="token-line"><span class="token plain">node app.js </span><span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token plain">joe</span></div><div class="token-line"><span class="token plain">
</span></div></pre><p>This changes how you will retrieve this value in the Node.js code.</p><p>The way you retrieve it is using the <code class="language-text">process</code> object built into Node.js.</p><p>It exposes an <code class="language-text">argv</code> property, which is an array that contains all the command line invocation arguments.</p><p>The first element is the full path of the <code class="language-text">node</code> command.</p><p>The second element is the full path of the file being executed.</p><p>All the additional arguments are present from the third position going forward.</p><p>You can iterate over all the arguments (including the node path and the file path) using a loop:</p><pre class="prism-code language-js"><div class="shell-box-top"><span>JS</span><button type="button">copy</button></div><div class="token-line"><span class="token plain">process</span><span class="token punctuation">.</span><span class="token property-access">argv</span><span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token parameter punctuation">,</span><span class="token parameter"> index</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">index</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">: </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">val</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre><p>You can get only the additional arguments by creating a new array that excludes the first 2 params:</p><pre class="prism-code language-js"><div class="shell-box-top"><span>JS</span><button type="button">copy</button></div><div class="token-line"><span class="token keyword">const</span><span class="token plain"> args </span><span class="token operator">=</span><span class="token plain"> process</span><span class="token punctuation">.</span><span class="token property-access">argv</span><span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre><p>If you have one argument without an index name, like this:</p><pre class="prism-code language-bash"><div class="shell-box-top"><span>BASH</span><button type="button">copy</button></div><div class="token-line"><span class="token plain">node app.js joe</span></div><div class="token-line"><span class="token plain">
</span></div></pre><p>you can access it using</p><pre class="prism-code language-js"><div class="shell-box-top"><span>JS</span><button type="button">copy</button></div><div class="token-line"><span class="token keyword">const</span><span class="token plain"> args </span><span class="token operator">=</span><span class="token plain"> process</span><span class="token punctuation">.</span><span class="token property-access">argv</span><span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">args</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre><p>In this case:</p><pre class="prism-code language-bash"><div class="shell-box-top"><span>BASH</span><button type="button">copy</button></div><div class="token-line"><span class="token plain">node app.js </span><span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token plain">joe</span></div><div class="token-line"><span class="token plain">
</span></div></pre><p><code class="language-text">args[0]</code> is <code class="language-text">name=joe</code>, and you need to
parse it. The best way to do so is by using the <a href="https://www.npmjs.com/package/minimist"><code class="language-text">minimist</code></a> library, which helps dealing with arguments:</p><pre class="prism-code language-js"><div class="shell-box-top"><span>JS</span><button type="button">copy</button></div><div class="token-line"><span class="token keyword">const</span><span class="token plain"> args </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'minimist'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token plain">process</span><span class="token punctuation">.</span><span class="token property-access">argv</span><span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">args</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token comment">//joe</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre><p>This time you need to use double dashes before each argument name:</p><pre class="prism-code language-bash"><div class="shell-box-top"><span>BASH</span><button type="button">copy</button></div><div class="token-line"><span class="token plain">node app.js --name</span><span class="token operator">=</span><span class="token plain">joe</span></div><div class="token-line"><span class="token plain">
</span></div></pre></div></article></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div>
