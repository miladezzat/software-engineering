---
card: "/images/default.jpg"
tags: [Node]
author: "Milad E. Fahmy"
title: "Accept input from the command line in Node.js"
created: "2021-08-20T13:40:30+02:00"
modified: "2021-08-20T13:40:30+02:00"
---
<div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="layout-container"><main class="grid-container"><article class="article-reader"><h1 class="article-reader__headline">Accept input from the command line in Node.js</h1><div><p>How to make a Node.js CLI program interactive?</p><p>Node.js since version 7 provides the <a href="https://nodejs.org/api/readline.html"><code class="language-text">readline</code> module</a> to perform exactly this: get input from a readable stream such as the <code class="language-text">process.stdin</code> stream, which during the execution of a Node.js program is the terminal input, one line at a time.</p><pre class="prism-code language-js"><div class="shell-box-top"><span>JS</span><button type="button">copy</button></div><div class="token-line"><span class="token keyword">const</span><span class="token plain"> readline </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'readline'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">createInterface</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  input</span><span class="token operator">:</span><span class="token plain"> process</span><span class="token punctuation">.</span><span class="token property-access">stdin</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  output</span><span class="token operator">:</span><span class="token plain"> process</span><span class="token punctuation">.</span><span class="token property-access">stdout</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">readline</span><span class="token punctuation">.</span><span class="token method function property-access">question</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">What's your name?</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token parameter">name</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">Hi </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">!</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  readline</span><span class="token punctuation">.</span><span class="token method function property-access">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre><p>This piece of code asks the username, and once the text is entered and the user presses enter, we send a greeting.</p><p>The <code class="language-text">question()</code> method shows the first parameter (a question) and waits for the user input. It calls the callback function once enter is pressed.</p><p>In this callback function, we close the readline interface.</p><p><code class="language-text">readline</code> offers several other methods, and I'll let you check them out on the package documentation linked above.</p><p>If you need to require a password, it's best not to echo it back, but instead show a <code class="language-text">*</code> symbol.</p><p>The simplest way is to use the <a href="https://www.npmjs.com/package/readline-sync"><code class="language-text">readline-sync</code> package</a> which is very similar in terms of the API and handles this out of the box.</p><p>A more complete and abstract solution is provided by the <a href="https://github.com/SBoudrias/Inquirer.js">Inquirer.js package</a>.</p><p>You can install it using <code class="language-text">npm install inquirer</code>, and then you can replicate the above code like this:</p><pre class="prism-code language-js"><div class="shell-box-top"><span>JS</span><button type="button">copy</button></div><div class="token-line"><span class="token keyword">const</span><span class="token plain"> inquirer </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'inquirer'</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">var</span><span class="token plain"> questions </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    type</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">'input'</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    message</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">"What's your name?"</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">inquirer</span><span class="token punctuation">.</span><span class="token method function property-access">prompt</span><span class="token punctuation">(</span><span class="token plain">questions</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token parameter">answers</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">Hi </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">answers</span><span class="token template-string interpolation punctuation">[</span><span class="token template-string interpolation string">'name'</span><span class="token template-string interpolation punctuation">]</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">!</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre><p>Inquirer.js lets you do many things like asking multiple choices, having radio buttons, confirmations, and more.</p><p>It's worth knowing all the alternatives, especially the built-in ones provided by Node.js, but if you plan to take CLI input to the next level, Inquirer.js is an optimal choice.</p></div></article></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div>
