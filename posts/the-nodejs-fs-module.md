---
card: "/images/default.jpg"
tags: [Node]
author: "Milad E. Fahmy"
title: "The Node.js fs module"
created: "2021-08-20T13:40:53+02:00"
modified: "2021-08-20T13:40:53+02:00"
---
<div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="layout-container"><main class="grid-container"><article class="article-reader"><h1 class="article-reader__headline">The Node.js fs module</h1><div><p>The <code class="language-text">fs</code> module provides a lot of very useful functionality to access and interact with the file system.</p><p>There is no need to install it. Being part of the Node.js core, it can be used by simply requiring it:</p><pre class="prism-code language-js"><div class="shell-box-top"><span>JS</span><button type="button">copy</button></div><div class="token-line"><span class="token keyword">const</span><span class="token plain"> fs </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre><p>Once you do so, you have access to all its methods, which include:</p><ul><li><code class="language-text">fs.access()</code>: check if the file exists and Node.js can access it with its permissions</li><li><code class="language-text">fs.appendFile()</code>: append data to a file. If the file does not exist, it's created</li><li><code class="language-text">fs.chmod()</code>: change the permissions of a file specified by the filename passed. Related: <code class="language-text">fs.lchmod()</code>, <code class="language-text">fs.fchmod()</code></li><li><code class="language-text">fs.chown()</code>: change the owner and group of a file specified by the filename passed. Related: <code class="language-text">fs.fchown()</code>, <code class="language-text">fs.lchown()</code></li><li><code class="language-text">fs.close()</code>: close a file descriptor</li><li><code class="language-text">fs.copyFile()</code>: copies a file</li><li><code class="language-text">fs.createReadStream()</code>: create a readable file stream</li><li><code class="language-text">fs.createWriteStream()</code>: create a writable file stream</li><li><code class="language-text">fs.link()</code>: create a new hard link to a file</li><li><code class="language-text">fs.mkdir()</code>: create a new folder</li><li><code class="language-text">fs.mkdtemp()</code>: create a temporary directory</li><li><code class="language-text">fs.open()</code>: set the file mode</li><li><code class="language-text">fs.readdir()</code>: read the contents of a directory</li><li><code class="language-text">fs.readFile()</code>: read the content of a file. Related: <code class="language-text">fs.read()</code></li><li><code class="language-text">fs.readlink()</code>: read the value of a symbolic link</li><li><code class="language-text">fs.realpath()</code>: resolve relative file path pointers (<code class="language-text">.</code>, <code class="language-text">..</code>) to the full path</li><li><code class="language-text">fs.rename()</code>: rename a file or folder</li><li><code class="language-text">fs.rmdir()</code>: remove a folder</li><li><code class="language-text">fs.stat()</code>: returns the status of the file identified by the filename passed. Related: <code class="language-text">fs.fstat()</code>, <code class="language-text">fs.lstat()</code></li><li><code class="language-text">fs.symlink()</code>: create a new symbolic link to a file</li><li><code class="language-text">fs.truncate()</code>: truncate to the specified length the file identified by the filename passed. Related: <code class="language-text">fs.ftruncate()</code></li><li><code class="language-text">fs.unlink()</code>: remove a file or a symbolic link</li><li><code class="language-text">fs.unwatchFile()</code>: stop watching for changes on a file</li><li><code class="language-text">fs.utimes()</code>: change the timestamp of the file identified by the filename passed. Related: <code class="language-text">fs.futimes()</code></li><li><code class="language-text">fs.watchFile()</code>: start watching for changes on a file. Related: <code class="language-text">fs.watch()</code></li><li><code class="language-text">fs.writeFile()</code>: write data to a file. Related: <code class="language-text">fs.write()</code></li></ul><p>One peculiar thing about the <code class="language-text">fs</code> module is that all the methods are asynchronous by default, but they can also work synchronously by appending <code class="language-text">Sync</code>.</p><p>For example:</p><ul><li><code class="language-text">fs.rename()</code></li><li><code class="language-text">fs.renameSync()</code></li><li><code class="language-text">fs.write()</code></li><li><code class="language-text">fs.writeSync()</code></li></ul><p>This makes a huge difference in your application flow.</p><blockquote><p>Node.js 10 includes <a href="https://nodejs.org/api/fs.html#fs_fs_promises_api">experimental support</a> for a promise based API</p></blockquote><p>For example let's examine the <code class="language-text">fs.rename()</code> method. The asynchronous API is used with a callback:</p><pre class="prism-code language-js"><div class="shell-box-top"><span>JS</span><button type="button">copy</button></div><div class="token-line"><span class="token keyword">const</span><span class="token plain"> fs </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">fs</span><span class="token punctuation">.</span><span class="token method function property-access">rename</span><span class="token punctuation">(</span><span class="token string">'before.json'</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">'after.json'</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token parameter">err</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">err</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token plain">err</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">//done</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre><p>A synchronous API can be used like this, with a try/catch block to handle errors:</p><pre class="prism-code language-js"><div class="shell-box-top"><span>JS</span><button type="button">copy</button></div><div class="token-line"><span class="token keyword">const</span><span class="token plain"> fs </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword control-flow">try</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  fs</span><span class="token punctuation">.</span><span class="token method function property-access">renameSync</span><span class="token punctuation">(</span><span class="token string">'before.json'</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">'after.json'</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">//done</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword control-flow">catch</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">err</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token plain">err</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre><p>The key difference here is that the execution of your script will block in the second example, until the file operation succeeded.</p></div></article></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div>
